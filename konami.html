<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
    <link rel="stylesheet" href="css/konami.css">
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<h1 class="glow">Enter the Konami Code Below</h1>
<p>Display in full screen</p>
        <!-- check code is: ↑ ↑ ↓ ↓ ← → ← → b a enter-->
    <img id ="konamiCode" src="img/konamicode.png" alt="konamicode">
    <img id="redDot-up" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="redDot-down" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="redDot-right" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="redDot-left" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="b-button" src="img/b_button.png" height="90px" width="90px" alt="" style="display: none">
    <img id="a-button" src="img/a-button.png" height="90px" width="90px" alt="" style="display: none">
    <img id="start-button" src="img/red-pill.png" height="82px" width="122px" alt="" style="display: none">

<script src = "js/jquery-2.2.4.js"></script>
<script>
    //use enter as the return key (use prevent default)
    "use strict";
    //create an array to hold the konami code
    var konamiCode = [38,38,40,40,37,39,37,39,66,65,13];
    // var konamiCheck = [];

    //create a variable to hold the current index as we read through array
    var codeIndex = 0;

    function showImageGeneric (id){
        console.log(id);
        $(id).show('fast');
        $(id).hide('slow');
    }


    $(document).keydown(function(event) {
        //which is the key(the number from the keyboard)
        console.log(event.which);


        if (event.which === 38) {
            showImageGeneric('#redDot-up');
            if (konamiCode[codeIndex] === 38) {
                codeIndex++
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 40) {
            showImageGeneric('#redDot-down');
            if (konamiCode[codeIndex] === 40) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 37) {
            showImageGeneric('#redDot-left');
            if (konamiCode[codeIndex] === 37) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 39) {
            showImageGeneric('#redDot-right');
            if (konamiCode[codeIndex] === 39) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 66) {
            showImageGeneric('#b-button');
            if (konamiCode[codeIndex] === 66) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 65) {
            showImageGeneric('#a-button');
            if (konamiCode[codeIndex] === 65) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 13) {
            showImageGeneric('#start-button');
            if (konamiCode[codeIndex] === 13) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        }
        if (codeIndex === konamiCode.length - 1) {
            success();
        }
    });

        var audio;
        function success() {
            console.log("you entered the Konami Code!");
            audio = new Audio('KonamiCode.mp3');
            audio.play();
            setTimeout(function(){
                alert("Hey cheater you added 30 lives!!");
            },1000);
            //then they entered the konami code! Reset codeIndex to start again
            codeIndex = 0;
        }

</script>
</body>
</html>