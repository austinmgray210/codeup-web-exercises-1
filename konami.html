<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
    <link rel="stylesheet" href="css/konami.css">
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <p class="glow">Display in full screen</p>
    <h1 class="glow">Enter the Konami Code Below</h1>
        <!-- check code is: ↑ ↑ ↓ ↓ ← → ← → b a enter-->
    <h2 class="glow">&#8679; &#8679; &#8681; &#8681; &#8678; &#8680; &#8678; &#8680; B A ENTER</h2>

    <div class ="parentPics">
        <img id ="marioGif" src="img/mariogif.gif" height="300px" width="450px" alt="marioGif">
        <img id="retrotv" src="img/retro-tv.png" height="350px" width="460px" alt="">

    <!-- dot images-->
    <img id="redDot-up" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="redDot-down" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="redDot-right" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="redDot-left" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="b-button" src="img/b_button.png" height="60px" width="60px" alt="" style="display: none">
    <img id="a-button" src="img/a-button.png" height="60px" width="60px" alt="" style="display: none">
    <img id="start-button" src="img/red-pill.png" height="50px" width="50px" alt="" style="display: none">
    <img id="controller" src="img/controller.png" alt="">

    </div>

    <script src = "js/jquery-2.2.4.js"></script>
<script>
    //use enter as the return key (use prevent default)
    "use strict";
    //create an array to hold the konami code
    var konamiCode = [38,38,40,40,37,39,37,39,66,65,13];

    //create a variable to hold the current index as we read through array
    var codeIndex = 0;

    function showImageGeneric (id){
        console.log(id);
        // 0 and 1 made the default animation stop
        $(id).show(0);
        $(id).hide(1);
    }


    $(document).keydown(function(event) {
        //which is the key(the number from the keyboard)
        console.log(event.which);


        if (event.which === 38) {
            showImageGeneric('#redDot-up');
            if (konamiCode[codeIndex] === 38) {
                codeIndex++
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 40) {
            showImageGeneric('#redDot-down');
            if (konamiCode[codeIndex] === 40) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 37) {
            showImageGeneric('#redDot-left');
            if (konamiCode[codeIndex] === 37) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 39) {
            showImageGeneric('#redDot-right');
            if (konamiCode[codeIndex] === 39) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 66) {
            showImageGeneric('#b-button');
            if (konamiCode[codeIndex] === 66) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 65) {
            showImageGeneric('#a-button');
            if (konamiCode[codeIndex] === 65) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        } else if (event.which === 13) {
            showImageGeneric('#start-button');
            if (konamiCode[codeIndex] === 13) {
                codeIndex++;
            } else {
                codeIndex = 0;
                console.log("oops you messed up");
            }
        }
        if (codeIndex === konamiCode.length) {
            success();
        }
    });

        var audio;
        function success() {
            console.log("you entered the Konami Code!");
            audio = new Audio('KonamiCode.mp3');
            audio.play();
            setTimeout(function(){
                alert("Hey cheater you added 30 lives!!");
            },1000);
            // they entered the konami code! Reset codeIndex to start again
            codeIndex = 0;
        }

</script>
</body>
</html>