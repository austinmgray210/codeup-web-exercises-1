<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
    <link rel="stylesheet" href="css/konami.css">
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<h1 class="glow">Enter the Konami Code Below</h1>
<p>Display in full screen</p>
        <!-- check code is: ↑ ↑ ↓ ↓ ← → ← → b a enter-->
    <img id ="konamiCode" src="img/konamicode.png" alt="konamicode">
    <img id="redDot-up" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="redDot-down" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="redDot-right" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="redDot-left" src="img/red-dot.png" height="150px" width="150px" alt="" style="display: none">
    <img id="b-button" src="img/b_button.png" height="90px" width="90px" alt="" style="display: none">
    <img id="a-button" src="img/a-button.png" height="90px" width="90px" alt="" style="display: none">
    <img id="start-button" src="img/red-pill.png" height="82px" width="122px" alt="" style="display: none">

<script src = "js/jquery-2.2.4.js"></script>
<script>
    //use enter as the return key (use prevent default)
    "use strict";
    //create an array to hold the konami code
    var konamiCode = [38,38,40,40,37,39,37,39,66,65,13];
    // var konamiCheck = [];

    //create a variable to hold the current index as we read through array
    var codeIndex = 0;

    //jquery
        //for the images that popup
        function showImageUp (){
            $('#redDot-up').show('fast');
            $('#redDot-up').hide('slow');
        }
        function showImageDown (){
            $('#redDot-down').show('fast');
            $('#redDot-down').hide('slow');
        }
        function showImageLeft (){
            $('#redDot-left').show('fast');
            $('#redDot-left').hide('slow');
        }
        function showImageRight (){
            $('#redDot-right').show('fast');
            $('#redDot-right').hide('slow');
        }
        function showBImage (){
            $('#b-button').show('fast');
            $('#b-button').hide('slow');
        }
        function showAImage (){
            $('#a-button').show('fast');
            $('#a-button').hide('slow');
        }

        function showStartImage (){
            $('#start-button').show('fast');
            $('#start-button').hide('slow');
        }


    $(document).keydown(function(event){
            //which is the key(the number from the keyboard)
        console.log(event.which);

        //if key code matches the number in array at the specified index
        //then they entered the right key, so iterate the code index
        if(event.which === konamiCode[codeIndex]){
            if (konamiCode[codeIndex] === 38){
                console.log("up arrow");
                showImageUp();
            }
             if (konamiCode[codeIndex] === 40){
                console.log("down arrow");
                showImageDown();
            }
            if (konamiCode[codeIndex] === 37){
                console.log("left arrow");
                showImageLeft();
            }
            if (konamiCode[codeIndex] === 39){
                console.log("right arrow");
                showImageRight();
            }
            if (konamiCode[codeIndex] === 66){
                console.log("B Button");
                showBImage();
            }
            if (konamiCode[codeIndex] === 65){
                console.log("A Button");
                showAImage();
            }
            if (konamiCode[codeIndex] === 13){
                console.log("Start Button");
                showStartImage();
            }
            if(codeIndex === konamiCode.length -1){
                success();
            }

            codeIndex++;
            console.log("correct so far...");

            //if they code index is >= the length of the array

        }
        //If it doesn't match, reset the codeIndex to 0 so they can keep trying
        // else{
        //     codeIndex = 0;
        //     console.log("oops you messed up");
        // }

        var audio;
        function success() {
            console.log("you entered the Konami Code!");
            audio = new Audio('KonamiCode.mp3');
            audio.play();
            setTimeout(function(){
                alert("Hey cheater you added 30 lives!!");
            },1000);
            //then they entered the konami code! Reset codeIndex to start again
            codeIndex = 0;
        }
    });
</script>
</body>
</html>